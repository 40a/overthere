buildscript {
	repositories {
		add(new org.apache.ivy.plugins.resolver.URLResolver()) {
			name = "GitHub"
			addArtifactPattern 'http://cloud.github.com/downloads/hierynomus/gradle-plugins/[organization]-[module]-[revision].[ext]'
		}
	}

	dependencies {
		classpath 'nl.javadude.gradle.plugins:license-gradle-plugin:0.1-SNAPSHOT@jar'
	}
}

apply plugin: 'license'
apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'idea'

version = "1.0-alpha-5"
group = "com.xebialabs.overthere"

sourceCompatibility = 1.6
targetCompatibility = 1.6

dependencies {
	compile 'com.google.guava:guava:r09'
	compile 'commons-net:commons-net:2.0'
	compile 'net.schmizz:sshj:0.4.1'
	compile 'nl.javadude.scannit:scannit:0.6'
	compile 'org.samba:jcifs:1.3.1'
	compile 'org.slf4j:slf4j-api:1.6.1'

	runtime 'com.jcraft:jzlib:1.0.7'
	runtime 'org.bouncycastle:bcprov-jdk16:1.45'
    
	testCompile 'ch.qos.logback:logback-classic:0.9.24'
	testCompile 'junit:junit:4.8.1'
	testCompile 'org.hamcrest:hamcrest-all:1.1'
	testCompile 'org.mockito:mockito-all:1.8.5'
}

apply from: 'https://github.com/xebialabs/deployit-common-build/raw/master/repositories.gradle'
apply from: 'https://github.com/xebialabs/deployit-common-build/raw/master/releaseable.gradle'
apply from: 'https://github.com/xebialabs/deployit-common-build/raw/master/artifacts.gradle'

task itest(type: Test) {
    includes = ['**/*Itest.*']
    testResultsDir = file("${buildDir}/itest-results")
    systemProperties['itests'] = project.hasProperty('itests') ? project.getProperty('itests') : ''
    systemProperties['testconfig'] = project.hasProperty('testconfig') ? project.getProperty('testconfig') : ''
    systemProperties['testimage'] = project.hasProperty('testimage') ? project.getProperty('testimage') : ''
}


test {
    excludes = ['**/*Itest.*', '**/acceptance/*']
}

